{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Social/ProfileShell/Skyliner.js\";\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\nimport AuthContext from '../../../context/AuthContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Typography, Fab, Icon } from '@material-ui/core';\nimport { Parallax } from 'react-parallax';\nvar useStyles = makeStyles(function (theme) {\n  var _skylinerRow, _skylinerContent, _profileAvatar, _username, _skylinerDivLeft;\n\n  return {\n    skyliner: {\n      width: '100%',\n      height: '40vh' // overflow: 'visible'\n\n    },\n    skylinerRow: (_skylinerRow = {}, _defineProperty(_skylinerRow, theme.breakpoints.down('xs'), {\n      height: '40vh',\n      display: 'flex',\n      alignItems: 'flex-end',\n      justifyContent: 'center'\n    }), _defineProperty(_skylinerRow, \"height\", '40vh'), _defineProperty(_skylinerRow, \"display\", 'flex'), _defineProperty(_skylinerRow, \"alignItems\", 'flex-end'), _skylinerRow),\n    skylinerContent: (_skylinerContent = {}, _defineProperty(_skylinerContent, theme.breakpoints.down('xs'), {\n      justifyContent: 'center'\n    }), _defineProperty(_skylinerContent, \"display\", 'flex'), _defineProperty(_skylinerContent, \"alignItems\", 'flex-end'), _defineProperty(_skylinerContent, \"flexDirection\", 'row'), _defineProperty(_skylinerContent, \"flexWrap\", 'none'), _skylinerContent),\n    profileAvatar: (_profileAvatar = {}, _defineProperty(_profileAvatar, theme.breakpoints.down('md'), {\n      width: 120,\n      height: 120,\n      margin: '0px 20px 0px 10px'\n    }), _defineProperty(_profileAvatar, theme.breakpoints.down('sm'), {\n      width: 120,\n      height: 120,\n      margin: '0px 20px 0px 10px'\n    }), _defineProperty(_profileAvatar, theme.breakpoints.down('xs'), {\n      width: 90,\n      height: 90,\n      margin: '0px 10px 0px 10px'\n    }), _defineProperty(_profileAvatar, \"width\", 120), _defineProperty(_profileAvatar, \"height\", 120), _defineProperty(_profileAvatar, \"margin\", '0px 20px 0px 10px'), _defineProperty(_profileAvatar, \"zIndex\", 50), _profileAvatar),\n    username: (_username = {}, _defineProperty(_username, theme.breakpoints.down('md'), {}), _defineProperty(_username, theme.breakpoints.down('sm'), {}), _defineProperty(_username, theme.breakpoints.down('xs'), {\n      fontSize: '2.7rem'\n    }), _defineProperty(_username, \"color\", 'white'), _username),\n    skylinerDivLeft: (_skylinerDivLeft = {}, _defineProperty(_skylinerDivLeft, theme.breakpoints.down('xs'), {\n      justifyContent: 'center',\n      position: 'relative' // bottom:  -10,\n      // left: 20,    \n\n    }), _defineProperty(_skylinerDivLeft, \"display\", 'flex'), _defineProperty(_skylinerDivLeft, \"alignItems\", 'flex-end'), _defineProperty(_skylinerDivLeft, \"position\", 'absolute'), _defineProperty(_skylinerDivLeft, \"bottom\", -10), _defineProperty(_skylinerDivLeft, \"left\", 20), _defineProperty(_skylinerDivLeft, \"overflow\", 'visible'), _skylinerDivLeft),\n    skylinerDivRight: {\n      padding: '0px 20px',\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'flex-end'\n    },\n    Fab: {\n      margin: '10px 20px'\n    }\n  };\n});\n\nfunction Skyliner(props) {\n  var classes = useStyles();\n  var auth = useContext(AuthContext);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loaded = _useState2[0],\n      setLoaded = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      friend = _useState4[0],\n      setFriend = _useState4[1];\n\n  function renderPopper() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Fab, {\n      \"aria-controls\": \"simple-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: props.handleClick,\n      className: classes.Fab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"message\")));\n  }\n\n  useEffect(function () {\n    if (!loaded && auth.user && props.user) {\n      setLoaded(true);\n      var result = auth.user.info.friendList.filter(function (friend) {\n        return props.user.username === friend.username;\n      });\n      console.log(result);\n      console.log(props.user.username);\n      console.log(auth.user.friendList);\n\n      if (result.length === 1) {\n        console.log('HA');\n        setFriend(true);\n      }\n\n      ;\n    }\n  });\n\n  function addFriend() {\n    var data = {\n      friendId: props.user._id,\n      personalId: auth.user._id\n    };\n    fetch('/api/social/addFriend', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      console.log(result);\n      setFriend(true);\n    });\n  }\n\n  ;\n\n  function renderSkyliner() {\n    if (props.user) {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Parallax, {\n        bgImage: props.user.info.skyline,\n        bgImageAlt: \"Skyliner\",\n        strength: 200,\n        className: classes.skyliner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row \".concat(classes.skylinerRow),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6 \".concat(classes.skylinerContent),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.skylinerDivLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        src: props.user.info.avatar,\n        className: classes.profileAvatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        display: \"inline\",\n        variant: \"h2\",\n        color: \"textPrimary\",\n        className: classes.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, props.username))), React.createElement(\"div\", {\n        className: \"col-6 \".concat(classes.skylinerContent),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.skylinerDivRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, renderButtons())))));\n    } else {\n      return '';\n    }\n  }\n\n  function renderButtons() {\n    if (props.auth) {\n      if (props.auth.username !== props.username) {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, friend ? React.createElement(Fab, {\n          className: classes.Fab,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, \"person_outline\")) : React.createElement(Fab, {\n          onClick: addFriend,\n          className: classes.Fab,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"person_add\")));\n      }\n    }\n  }\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, renderSkyliner());\n}\n\nexport default Skyliner;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Social/ProfileShell/Skyliner.js"],"names":["React","Fragment","useContext","useEffect","useState","AuthContext","makeStyles","Avatar","Typography","Fab","Icon","Parallax","useStyles","theme","skyliner","width","height","skylinerRow","breakpoints","down","display","alignItems","justifyContent","skylinerContent","profileAvatar","margin","username","fontSize","skylinerDivLeft","position","skylinerDivRight","padding","Skyliner","props","classes","auth","loaded","setLoaded","friend","setFriend","renderPopper","handleClick","user","result","info","friendList","filter","console","log","length","addFriend","data","friendId","_id","personalId","fetch","method","body","JSON","stringify","headers","then","res","json","renderSkyliner","skyline","avatar","renderButtons"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from 'react';\n\nimport AuthContext from '../../../context/AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Typography, Fab, Icon } from '@material-ui/core';\n\n\nimport { Parallax } from 'react-parallax';\n\nconst useStyles = makeStyles(theme => ({\n    skyliner: {\n        width: '100%',\n        height: '40vh',\n        // overflow: 'visible'\n    },\n    skylinerRow: {\n        [theme.breakpoints.down('xs')]: {\n            height: '40vh',\n            display: 'flex',\n            alignItems: 'flex-end',    \n            justifyContent: 'center',\n        },\n        height: '40vh',\n        display: 'flex',\n        alignItems: 'flex-end',\n    },\n    skylinerContent: {\n        [theme.breakpoints.down('xs')]: {\n            justifyContent: 'center',\n        },\n        display: 'flex',\n        alignItems: 'flex-end',\n        flexDirection: 'row',\n        flexWrap: 'none',\n    },\n    profileAvatar: {\n        [theme.breakpoints.down('md')]: {\n            width: 120,\n            height: 120,\n            margin: '0px 20px 0px 10px',    \n        },\n        [theme.breakpoints.down('sm')]: {\n            width: 120,\n            height: 120,\n            margin: '0px 20px 0px 10px',\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: 90,\n            height: 90,\n            margin: '0px 10px 0px 10px',\n        },\n        width: 120,\n        height: 120,\n        margin: '0px 20px 0px 10px',\n        zIndex: 50,\n    },\n    username: {\n        [theme.breakpoints.down('md')]: {\n        },\n        [theme.breakpoints.down('sm')]: {\n        },\n        [theme.breakpoints.down('xs')]: {\n            fontSize: '2.7rem'\n        },\n        color: 'white',\n    },\n    skylinerDivLeft: {\n        [theme.breakpoints.down('xs')]: {\n            justifyContent: 'center',\n            position: 'relative',\n            // bottom:  -10,\n            // left: 20,    \n        },\n        display: 'flex',\n        alignItems: 'flex-end',\n        position: 'absolute',\n        bottom:  -10,\n        left: 20,\n        overflow: 'visible',\n    },\n    skylinerDivRight: {\n        padding: '0px 20px',\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    Fab: {\n        margin: '10px 20px',\n    },\n}))\n\nfunction Skyliner(props) {\n\n    const classes = useStyles();\n    const auth = useContext(AuthContext);\n    \n    const [loaded, setLoaded] = useState(false);\n    const [friend, setFriend] = useState(false);\n\n\n    function renderPopper() {\n        return (\n            <Fragment>\n                <Fab aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={props.handleClick} className={classes.Fab}>\n                    <Icon>message</Icon>\n                </Fab>\n            </Fragment>\n        );\n    }\n\n\n    useEffect(() => {\n        if((!loaded)&&(auth.user)&&(props.user)){\n            setLoaded(true)\n            var result = auth.user.info.friendList.filter(friend => props.user.username === friend.username)\n            console.log(result);\n            console.log(props.user.username);\n            console.log(auth.user.friendList)\n            if(result.length === 1){console.log('HA');setFriend(true)};\n        }\n    });\n\n    function addFriend() {\n\n        const data = {\n            friendId: props.user._id,\n            personalId: auth.user._id,\n        };\n\n        fetch('/api/social/addFriend', {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: {'Content-Type': 'application/json'}\n        }).then(res => res.json())\n        .then((result) => {\n            console.log(result);\n            setFriend(true);\n        });\n    };\n\n    function renderSkyliner() {\n        if(props.user) {\n            return (\n                <Fragment>\n                    <Parallax\n                    bgImage={props.user.info.skyline}\n                    bgImageAlt=\"Skyliner\"\n                    strength={200}\n                    className={classes.skyliner}\n                    >\n                        <div className={`row ${classes.skylinerRow}`}>\n                            <div className={`col-6 ${classes.skylinerContent}`}>\n                                <div className={classes.skylinerDivLeft}>\n                                <Avatar src={props.user.info.avatar} className={classes.profileAvatar}/>\n                                    <Typography\n                                        display=\"inline\"\n                                        variant=\"h2\"\n                                        color=\"textPrimary\"\n                                        className={classes.username}\n                                    >\n                                        {props.username}\n                                    </Typography>\n                                </div>\n                            </div>\n                            <div className={`col-6 ${classes.skylinerContent}`}>\n                                <div className={classes.skylinerDivRight}>\n                                    {renderButtons()}                            \n                                </div>\n                            </div>\n                        </div>\n                    </Parallax>\n                \n                </Fragment>\n            );\n        } else{return ''}\n    }\n\n    function renderButtons() {\n        if(props.auth) {\n            if(props.auth.username !== props.username) {\n                return (\n                    <Fragment>\n                        {friend ? \n                            <Fab className={classes.Fab}>\n                                <Icon>person_outline</Icon> \n                            </Fab>\n                        : \n                            <Fab onClick={addFriend} className={classes.Fab}>\n                                <Icon>person_add</Icon>\n                            </Fab>\n                        }\n                    </Fragment>\n                );\n            }\n        }\n    }\n\n    return (\n        <Fragment>\n                {renderSkyliner()}\n        </Fragment>\n    );\n}\n\n\nexport default Skyliner;"]},"metadata":{},"sourceType":"module"}