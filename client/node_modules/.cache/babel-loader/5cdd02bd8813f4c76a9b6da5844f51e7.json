{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Showcase/MtnDream/Editor/MDToolbar.js\";\nimport React, { useContext, useState } from 'react';\nimport TextSize from './Tools/TextSize';\nimport Font from './Tools/Font';\nimport Styling from './Tools/Styling';\nimport Justify from './Tools/Justify';\nimport Margin from './Tools/Margin';\nimport { EditorContext } from '../../../../context/EditorContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { green, amber } from '@material-ui/core/colors';\nimport { Grid, Icon, Button, Snackbar, SnackbarContent, Typography, Drawer } from '@material-ui/core';\nvar months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: {\n      padding: 20,\n      background: '#ffffff',\n      position: 'fixed',\n      zIndex: 2,\n      boxShadow: '0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)'\n    },\n    editorTools: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      alignContent: 'center',\n      flexWrap: 'wrap'\n    },\n    input: {\n      width: '80%'\n    },\n    menuButton: {\n      position: 'absolute',\n      left: 10,\n      top: '50%',\n      transform: 'translate(0%, -50%)'\n    },\n    save: {\n      position: 'relative',\n      backgroundColor: 'rgb(0, 0, 0, 0.2)',\n      transition: 'all 0.4s ease',\n      '&:hover': {\n        transform: 'scale(1.03)',\n        backgroundColor: 'rgb(0, 0, 0, 0.05)'\n      }\n    },\n    error: {\n      backgroundColor: theme.palette.error.dark\n    },\n    warning: {\n      backgroundColor: amber[700]\n    },\n    success: {\n      backgroundColor: green[600]\n    },\n    message: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    backButton: {\n      position: 'absolute',\n      bottom: 20,\n      left: '50%',\n      transform: 'translate(-50%, 0%)',\n      textDecoration: 'none',\n      color: 'inherit',\n      '&:hover': {\n        textDecoration: 'none',\n        color: 'inherit'\n      }\n    }\n  };\n});\n\nvar Toolbar = function Toolbar(props) {\n  var classes = useStyles();\n  var holder = useContext(EditorContext);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1]; // These will toggle the notification components\n\n\n  var _useState3 = useState({\n    open: false,\n    message: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState({\n    open: false,\n    message: 'Article saved!'\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1];\n\n  var _useState7 = useState({\n    open: false,\n    messsage: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      warning = _useState8[0],\n      setWarning = _useState8[1];\n\n  var closeError = function closeError() {\n    setError({\n      open: false,\n      message: ''\n    });\n  };\n\n  var closeSuccess = function closeSuccess() {\n    setSuccess({\n      open: false,\n      message: 'Article Saved!'\n    });\n  };\n\n  var closeWarning = function closeWarning() {\n    setWarning({\n      open: false,\n      message: ''\n    });\n  }; // This function will check if the required parameters are passing\n  // before passing anything to the database\n\n\n  var preSubmit = function preSubmit() {\n    switch (true) {\n      case !holder.title.text:\n        setWarning({\n          open: true,\n          message: 'Title is required!'\n        });\n        break;\n\n      case !holder.description.text:\n        setWarning({\n          open: true,\n          message: 'Description is required!'\n        });\n        break;\n\n      case !holder.readLength.text:\n        setWarning({\n          open: true,\n          message: 'Read Length is required!'\n        });\n        break;\n\n      case !holder.jumbotron.src:\n        setWarning({\n          open: true,\n          message: 'Jumbotron is required!'\n        });\n        break;\n\n      case !holder.body[0].text:\n        setWarning({\n          open: true,\n          message: 'A body section is required!'\n        });\n        break;\n\n      case holder.title.isPublished:\n        handleChanges();\n        break;\n\n      case !holder.title.isPublished:\n        handleSubmit();\n        break;\n\n      default:\n        setError({\n          open: true,\n          message: 'Something went wrong :('\n        });\n        break;\n    }\n  }; // If the preSubmit function passes with no errors or warnings it will\n  // then log the current date and store it within the database\n\n\n  var handleSubmit = function handleSubmit() {\n    var now = new Date();\n    var date = {\n      parsedDate: \"\".concat(months[now.getMonth()], \" \").concat(now.getDate()),\n      epoch: now.getTime()\n    };\n    var data = {\n      title: holder.title,\n      description: holder.description,\n      readLength: holder.readLength,\n      jumbotron: holder.jumbotron,\n      body: holder.body,\n      date: date\n    };\n    fetch('/api/editors/newArticle', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      if (result.error) {\n        return setError({\n          open: true,\n          message: result.error\n        });\n      }\n\n      setSuccess({\n        open: true,\n        message: 'Article published!'\n      });\n      holder.setPublished();\n    }).catch(function (error) {\n      setError({\n        open: true,\n        message: error\n      });\n    });\n  }; // If the user has already published the article, this function will then\n  // update the article within the database\n\n\n  var handleChanges = function handleChanges() {\n    var data = {\n      title: holder.title,\n      description: holder.description,\n      readLength: holder.readLength,\n      jumbotron: holder.jumbotron,\n      body: holder.body\n    };\n    fetch('/api/editors/saveChanges', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      if (result.error) {\n        return setError({\n          open: true,\n          message: result.error\n        });\n      }\n\n      setSuccess({\n        open: true,\n        message: 'Article Saved!'\n      });\n    }).catch(function (error) {\n      setError({\n        open: true,\n        message: error\n      });\n    });\n  };\n\n  return React.createElement(Grid, {\n    className: classes.container,\n    justify: \"center\",\n    alignItems: \"center\",\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    className: classes.editorTools,\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: classes.menuButton,\n    onClick: function onClick() {\n      return setOpen(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    fontSize: props.xs ? 'small' : 'large',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \"menu\")), holder.title.isPublished ? React.createElement(Button, {\n    className: classes.save,\n    onClick: preSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, \"save\"), React.createElement(Typography, {\n    style: {\n      marginLeft: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, \"Save\")) : React.createElement(Button, {\n    className: classes.save,\n    onClick: preSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, \"save\"), React.createElement(Typography, {\n    style: {\n      marginLeft: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, \"Publish\")), React.createElement(Drawer, {\n    open: open,\n    onClose: function onClose() {\n      return setOpen(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, React.createElement(TextSize, {\n    xs: props.xs,\n    margin: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }), React.createElement(Font, {\n    xs: props.xs,\n    margin: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }), React.createElement(Styling, {\n    xs: props.xs,\n    margin: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }), React.createElement(Justify, {\n    xs: props.xs,\n    margin: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }), React.createElement(Margin, {\n    xs: props.xs,\n    md: props.md,\n    margin: '0 auto',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    href: \"/editor\",\n    className: classes.backButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    fontSize: props.xs ? 'small' : 'large',\n    style: {\n      marginRight: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, \"exit_to_app\"), React.createElement(Typography, {\n    variant: props.xs ? 'body1' : 'h6',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, \"Editor\"))))));\n};\n\nexport default Toolbar;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Showcase/MtnDream/Editor/MDToolbar.js"],"names":["React","useContext","useState","TextSize","Font","Styling","Justify","Margin","EditorContext","makeStyles","green","amber","Grid","Icon","Button","Snackbar","SnackbarContent","Typography","Drawer","months","useStyles","theme","container","padding","background","position","zIndex","boxShadow","editorTools","display","justifyContent","alignItems","alignContent","flexWrap","input","width","menuButton","left","top","transform","save","backgroundColor","transition","error","palette","dark","warning","success","message","backButton","bottom","textDecoration","color","Toolbar","props","classes","holder","open","setOpen","setError","setSuccess","messsage","setWarning","closeError","closeSuccess","closeWarning","preSubmit","title","text","description","readLength","jumbotron","src","body","isPublished","handleChanges","handleSubmit","now","Date","date","parsedDate","getMonth","getDate","epoch","getTime","data","fetch","method","JSON","stringify","headers","then","res","json","result","setPublished","catch","xs","marginLeft","md","marginRight"],"mappings":"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","sourcesContent":["import React, {\n    useContext,\n    useState,\n} from 'react';\n\nimport TextSize from './Tools/TextSize';\nimport Font from './Tools/Font';\nimport Styling from './Tools/Styling';\nimport Justify from './Tools/Justify';\nimport Margin from './Tools/Margin';\n\nimport { EditorContext } from '../../../../context/EditorContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { green, amber } from '@material-ui/core/colors';\nimport {\n    Grid,\n    Icon,\n    Button,\n    Snackbar,\n    SnackbarContent,\n    Typography,\n    Drawer,\n} from '@material-ui/core';\n\nconst months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n];\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        padding: 20,\n        background: '#ffffff',\n        position: 'fixed',\n        zIndex: 2,\n        boxShadow: '0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)',\n    },\n    editorTools: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        alignContent: 'center',\n        flexWrap: 'wrap',\n    },\n    input: {\n        width: '80%'\n    },\n    menuButton: {\n        position: 'absolute',\n        left: 10,\n        top: '50%',\n        transform: 'translate(0%, -50%)',\n    },\n    save: {\n        position: 'relative',\n        backgroundColor: 'rgb(0, 0, 0, 0.2)',\n        transition: 'all 0.4s ease',\n        '&:hover': {\n            transform: 'scale(1.03)',\n            backgroundColor: 'rgb(0, 0, 0, 0.05)',\n        },\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n    },\n    warning: {\n        backgroundColor: amber[700],\n    },\n    success: {\n        backgroundColor: green[600],\n    },\n    message: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    backButton: {\n        position: 'absolute',\n        bottom: 20,\n        left: '50%',\n        transform: 'translate(-50%, 0%)',\n        textDecoration: 'none',\n        color: 'inherit',\n        '&:hover': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n}));\n\nconst Toolbar = (props) => {\n\n    const classes = useStyles();\n    const holder = useContext(EditorContext);\n\n    const [open, setOpen] = useState(false);\n\n    // These will toggle the notification components\n    const [error, setError] = useState({\n        open: false,\n        message: '',\n    });\n    const [success, setSuccess] = useState({\n        open: false,\n        message: 'Article saved!'\n    });\n    const [warning, setWarning] = useState({\n        open: false,\n        messsage: '',\n    });\n\n    const closeError = () => { setError({ open: false, message: '' }); };\n    const closeSuccess = () => { setSuccess({ open: false, message: 'Article Saved!' }); };\n    const closeWarning = () => { setWarning({ open: false, message: '' }); };\n\n    // This function will check if the required parameters are passing\n    // before passing anything to the database\n    const preSubmit = () => {\n        switch (true) {\n            case !holder.title.text:\n                setWarning({ open: true, message: 'Title is required!' });\n                break;\n            case !holder.description.text:\n                setWarning({ open: true, message: 'Description is required!' });\n                break;\n            case !holder.readLength.text:\n                setWarning({ open: true, message: 'Read Length is required!' });\n                break;\n            case !holder.jumbotron.src:\n                setWarning({ open: true, message: 'Jumbotron is required!' });\n                break;\n            case !holder.body[0].text:\n                setWarning({ open: true, message: 'A body section is required!' });\n                break;\n            case holder.title.isPublished:\n                handleChanges();\n                break;\n            case !holder.title.isPublished:\n                handleSubmit();\n                break;\n            default:\n                setError({ open: true, message: 'Something went wrong :(' });\n                break;\n        }\n    };\n\n    // If the preSubmit function passes with no errors or warnings it will\n    // then log the current date and store it within the database\n    const handleSubmit = () => {\n        const now = new Date();\n        const date = {\n            parsedDate: `${months[now.getMonth()]} ${now.getDate()}`,\n            epoch: now.getTime(),\n        };\n        const data = {\n            title: holder.title,\n            description: holder.description,\n            readLength: holder.readLength,\n            jumbotron: holder.jumbotron,\n            body: holder.body,\n            date,\n        };\n        fetch('/api/editors/newArticle',{\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then(res => res.json())\n            .then((result) => {\n                if (result.error) {\n                    return setError({ open: true, message: result.error });\n                }\n                setSuccess({ open: true, message: 'Article published!' });\n                holder.setPublished();\n            })\n            .catch((error) => { setError({ open: true, message: error }); });\n    };\n\n    // If the user has already published the article, this function will then\n    // update the article within the database\n    const handleChanges = () => {\n        const data = {\n            title: holder.title,\n            description: holder.description,\n            readLength: holder.readLength,\n            jumbotron: holder.jumbotron,\n            body: holder.body,\n        };\n        fetch('/api/editors/saveChanges', {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then(res => res.json())\n            .then((result) => {\n                if (result.error) {\n                    return setError({ open: true, message: result.error });\n                }\n                setSuccess({ open: true, message: 'Article Saved!' });\n            })\n            .catch((error) => { setError({ open: true, message: error }); });\n    };\n\n    return (\n        <Grid\n            className={classes.container}\n            justify=\"center\"\n            alignItems=\"center\"\n            container\n        >\n\n            <Grid className={classes.editorTools} item xs={12}>\n\n                <Button\n                    className={classes.menuButton}\n                    onClick={() => setOpen(true)}\n                >\n                    <Icon\n                        fontSize={props.xs ? 'small' : 'large'}\n                    >\n                        menu\n                    </Icon>\n                </Button>\n\n                {\n                    holder.title.isPublished\n                        ?\n                    <Button\n                        className={classes.save}\n                        onClick={preSubmit}\n                    >\n                        <Icon>\n                            save\n                        </Icon>\n                        <Typography style={{ marginLeft: 10 }}>\n                            Save\n                        </Typography>\n                    </Button>\n                        :\n                    <Button\n                        className={classes.save}\n                        onClick={preSubmit}\n                    >\n                        <Icon>\n                            save\n                        </Icon>\n                        <Typography style={{ marginLeft: 10 }}>\n                            Publish\n                        </Typography>\n                    </Button>\n                }\n\n                <Drawer\n                    open={open}\n                    onClose={() => setOpen(false)}\n                >\n\n\n                    <TextSize xs={props.xs} margin={0} />\n                    \n                    <Font xs={props.xs} margin={0} />\n\n                    <Styling xs={props.xs} margin={0} />\n\n                    <Justify xs={props.xs} margin={0} />\n\n                    <Margin xs={props.xs} md={props.md} margin={'0 auto'} />\n\n                    <a\n                        href=\"/editor\"\n                        className={classes.backButton}\n                    >\n                        <Button>\n                            <Icon\n                                fontSize={props.xs ? 'small' : 'large'}\n                                style={{ marginRight: 10 }}\n                            >\n                                exit_to_app\n                            </Icon>\n                            <Typography\n                                variant={props.xs ? 'body1' : 'h6'}\n                            >\n                                Editor\n                            </Typography>\n                        </Button>\n                    </a>\n\n                </Drawer>\n\n            </Grid>\n\n        </Grid>\n    );\n};\n\nexport default Toolbar;\n"]},"metadata":{},"sourceType":"module"}