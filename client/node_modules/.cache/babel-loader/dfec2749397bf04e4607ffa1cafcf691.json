{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/portfolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/portfolio/client/src/components/Social/Profile/Skyliner.js\";\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\nimport AuthContext from '../../../context/AuthContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Typography, Fab, Icon, Menu, MenuItem, Paper } from '@material-ui/core';\nimport { Parallax } from 'react-parallax';\nvar useStyles = makeStyles({\n  skyliner: {\n    width: '100%',\n    height: '40vh',\n    overflow: 'visible'\n  },\n  skylinerRow: {\n    height: '40vh',\n    display: 'flex',\n    alignItems: 'flex-end'\n  },\n  skylinerContent: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    flexDirection: 'row',\n    flexWrap: 'none'\n  },\n  profileAvatar: {\n    width: 120,\n    height: 120,\n    margin: '0px 20px 0px 10px',\n    zIndex: 50\n  },\n  username: {\n    color: 'white'\n  },\n  skylinerDivLeft: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    position: 'absolute',\n    bottom: -10,\n    left: 20,\n    overflow: 'visible'\n  },\n  skylinerDivRight: {\n    padding: '0px 20px',\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  Fab: {\n    margin: '10px 20px'\n  },\n  chatMenu: {\n    height: 300,\n    width: 200,\n    position: 'fixed',\n    bottom: '0%',\n    right: '10%'\n  },\n  chatPaper: {\n    height: 300,\n    width: 200,\n    position: 'fixed',\n    bottom: '0%',\n    right: '10%'\n  }\n});\n\nfunction Skyliner(props) {\n  var classes = useStyles();\n  var auth = useContext(AuthContext);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loaded = _useState2[0],\n      setLoaded = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      friend = _useState4[0],\n      setFriend = _useState4[1];\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      anchorEl = _React$useState2[0],\n      setAnchorEl = _React$useState2[1];\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  function renderPopper() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Fab, {\n      \"aria-controls\": \"simple-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleClick,\n      className: classes.Fab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"message\")), React.createElement(\"div\", {\n      className: classes.chatMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      id: \"simple-menu\",\n      anchorEl: anchorEl,\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      onClose: handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.chatPaper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Chat\")))));\n  }\n\n  useEffect(function () {\n    if (!loaded && auth.user && props.user.username) {\n      setLoaded(true);\n      var result = auth.user.info.friendList.filter(function (friend) {\n        return props.user.username === friend.username;\n      });\n      console.log(result);\n      console.log(props.user.username);\n      console.log(auth.user.friendList);\n\n      if (result.length === 1) {\n        console.log('HA');\n        setFriend(true);\n      }\n\n      ;\n    }\n  });\n\n  function addFriend() {\n    var data = {\n      friendId: props.user._id,\n      personalId: auth.user._id\n    };\n    fetch('/api/social/addFriend', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      console.log(result);\n      setFriend(true);\n    });\n  }\n\n  ;\n\n  function renderSkyliner() {\n    if (props.user.info) {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Parallax, {\n        bgImage: props.user.info.skyline,\n        bgImageAlt: \"Skyliner\",\n        strength: 200,\n        className: classes.skyliner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row \".concat(classes.skylinerRow),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6 \".concat(classes.skylinerContent),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.skylinerDivLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        src: props.user.info.avatar,\n        className: classes.profileAvatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        display: \"inline\",\n        variant: \"h2\",\n        color: \"textPrimary\",\n        className: classes.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, props.username))), React.createElement(\"div\", {\n        className: \"col-6 \".concat(classes.skylinerContent),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.skylinerDivRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, renderButtons())))));\n    } else {\n      return '';\n    }\n  }\n\n  function renderButtons() {\n    if (props.auth) {\n      if (props.auth.username !== props.username) {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, friend ? React.createElement(Fab, {\n          className: classes.Fab,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"person_outline\")) : React.createElement(Fab, {\n          onClick: addFriend,\n          className: classes.Fab,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"person_add\")), renderPopper());\n      }\n    }\n  }\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, renderSkyliner());\n}\n\nexport default Skyliner;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/portfolio/client/src/components/Social/Profile/Skyliner.js"],"names":["React","Fragment","useContext","useEffect","useState","AuthContext","makeStyles","Avatar","Typography","Fab","Icon","Menu","MenuItem","Paper","Parallax","useStyles","skyliner","width","height","overflow","skylinerRow","display","alignItems","skylinerContent","flexDirection","flexWrap","profileAvatar","margin","zIndex","username","color","skylinerDivLeft","position","bottom","left","skylinerDivRight","padding","justifyContent","chatMenu","right","chatPaper","Skyliner","props","classes","auth","loaded","setLoaded","friend","setFriend","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","renderPopper","Boolean","user","result","info","friendList","filter","console","log","length","addFriend","data","friendId","_id","personalId","fetch","method","body","JSON","stringify","headers","then","res","json","renderSkyliner","skyline","avatar","renderButtons"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from 'react';\n\nimport AuthContext from '../../../context/AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, Typography, Fab, Icon, Menu, MenuItem, Paper } from '@material-ui/core';\n\n\nimport { Parallax } from 'react-parallax';\n\nconst useStyles = makeStyles({\n    skyliner: {\n        width: '100%',\n        height: '40vh',\n        overflow: 'visible'\n    },\n    skylinerRow: {\n        height: '40vh',\n        display: 'flex',\n        alignItems: 'flex-end',\n    },\n    skylinerContent: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        flexDirection: 'row',\n        flexWrap: 'none',\n    },\n    profileAvatar: {\n        width: 120,\n        height: 120,\n        margin: '0px 20px 0px 10px',\n        zIndex: 50,\n    },\n    username: {\n        color: 'white',\n    },\n    skylinerDivLeft: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        position: 'absolute',\n        bottom:  -10,\n        left: 20,\n        overflow: 'visible',\n    },\n    skylinerDivRight: {\n        padding: '0px 20px',\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    Fab: {\n        margin: '10px 20px',\n    },\n    chatMenu: {\n        height: 300,\n        width: 200,\n        position: 'fixed',\n        bottom: '0%',\n        right: '10%',\n    },\n    chatPaper: {\n        height: 300,\n        width: 200,\n        position: 'fixed',\n        bottom: '0%',\n        right: '10%',\n\n    }\n})\n\nfunction Skyliner(props) {\n\n    const classes = useStyles();\n    const auth = useContext(AuthContext);\n    \n    const [loaded, setLoaded] = useState(false);\n    const [friend, setFriend] = useState(false);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    function handleClick(event) {\n        setAnchorEl(event.currentTarget);\n    }\n\n    function handleClose() {\n        setAnchorEl(null);\n    }\n\n    function renderPopper() {\n        return (\n            <Fragment>\n                <Fab aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} className={classes.Fab}>\n                    <Icon>message</Icon>\n                </Fab>\n            <div className={classes.chatMenu}>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    <Paper className={classes.chatPaper}>\n                        <Typography>\n                            Chat\n                        </Typography>\n                    </Paper>\n                </Menu>\n          </div>\n            </Fragment>\n        );\n    }\n\n\n    useEffect(() => {\n        if((!loaded)&&(auth.user)&&(props.user.username)){\n            setLoaded(true)\n            var result = auth.user.info.friendList.filter(friend => props.user.username === friend.username)\n            console.log(result);\n            console.log(props.user.username);\n            console.log(auth.user.friendList)\n            if(result.length === 1){console.log('HA');setFriend(true)};\n        }\n    });\n\n    function addFriend() {\n\n        const data = {\n            friendId: props.user._id,\n            personalId: auth.user._id,\n        };\n\n        fetch('/api/social/addFriend', {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: {'Content-Type': 'application/json'}\n        }).then(res => res.json())\n        .then((result) => {\n            console.log(result);\n            setFriend(true);\n        });\n    };\n\n    function renderSkyliner() {\n        if(props.user.info) {\n            return (\n                <Fragment>\n                    <Parallax\n                    bgImage={props.user.info.skyline}\n                    bgImageAlt=\"Skyliner\"\n                    strength={200}\n                    className={classes.skyliner}\n                    >\n                        <div className={`row ${classes.skylinerRow}`}>\n                            <div className={`col-6 ${classes.skylinerContent}`}>\n                                <div className={classes.skylinerDivLeft}>\n                                <Avatar src={props.user.info.avatar} className={classes.profileAvatar}/>\n                                    <Typography\n                                        display=\"inline\"\n                                        variant=\"h2\"\n                                        color=\"textPrimary\"\n                                        className={classes.username}\n                                    >\n                                        {props.username}\n                                    </Typography>\n                                </div>\n                            </div>\n                            <div className={`col-6 ${classes.skylinerContent}`}>\n                                <div className={classes.skylinerDivRight}>\n                                    {renderButtons()}                            \n                                </div>\n                            </div>\n                        </div>\n                    </Parallax>\n                \n                </Fragment>\n            );\n        } else{return ''}\n    }\n\n    function renderButtons() {\n        if(props.auth) {\n            if(props.auth.username !== props.username) {\n                return (\n                    <Fragment>\n                        {friend ? \n                            <Fab className={classes.Fab}>\n                                <Icon>person_outline</Icon> \n                            </Fab>\n                        : \n                            <Fab onClick={addFriend} className={classes.Fab}>\n                                <Icon>person_add</Icon>\n                            </Fab>\n                        }\n                        {renderPopper()}\n                    </Fragment>\n                );\n            }\n        }\n    }\n\n    return (\n        <Fragment>\n                {renderSkyliner()}\n        </Fragment>\n    );\n}\n\n\nexport default Skyliner;"]},"metadata":{},"sourceType":"module"}