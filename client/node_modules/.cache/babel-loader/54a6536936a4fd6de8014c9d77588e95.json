{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/portfolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/portfolio/client/src/components/Social/EditSettings/EditEmail.js\";\nimport React, { Fragment, useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, Button, Typography, InputLabel, Input, FormControl, TextField } from '@material-ui/core';\nimport AuthContext from '../../../context/AuthContext';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '70%',\n      position: 'absolute',\n      top: '50%',\n      left: '50%' // transform: 'translate(-50%, -50%)'\n\n    },\n    button: {\n      marginRight: theme.spacing(1)\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    inputDiv: {\n      display: 'flex',\n      justifyContent: 'center'\n    }\n  };\n});\n\nfunction getSteps() {\n  return ['Confirm Password', 'Change Email'];\n}\n\nfunction getStepContent(step) {\n  console.log(step);\n\n  switch (step) {\n    case 0:\n      return 'Authentication';\n\n    case 1:\n      return 'Enter your new email';\n\n    default:\n      return 'Unknown step...';\n  }\n}\n\nfunction EditEmail() {\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeStep = _React$useState2[0],\n      setActiveStep = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      passwordAuth = _React$useState4[0],\n      setPasswordAuth = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      passwordInput = _React$useState6[0],\n      setPasswordInput = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      confirmInput = _React$useState8[0],\n      setConfirmInput = _React$useState8[1];\n\n  var steps = getSteps();\n  var classes = useStyles();\n  var auth = useContext(AuthContext);\n\n  function handleNext() {\n    setActiveStep(function (prevActiveStep) {\n      return prevActiveStep + 1;\n    });\n  }\n\n  function handleBack() {\n    setActiveStep(function (prevActiveStep) {\n      return prevActiveStep - 1;\n    });\n  }\n\n  function handleReset() {\n    setActiveStep(0);\n  }\n\n  function handlePassword(e) {\n    e.preventDefault();\n    var email = auth.user.email;\n    console.log(passwordInput, confirmInput);\n    console.log(email);\n    fetch('/api/users/', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n        password: passwordInput\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (response) {\n      console.log(response);\n    });\n  }\n\n  function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    console.log(name, value);\n\n    if (name === 'password') {\n      return setPasswordInput(value);\n    }\n\n    if (name === 'confirm') {\n      return setConfirmInput(value);\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Stepper, {\n    activeStep: activeStep,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, steps.map(function (label, index) {\n    var stepProps = {};\n    var labelProps = {};\n    return React.createElement(Step, Object.assign({\n      key: label\n    }, stepProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(StepLabel, Object.assign({}, labelProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), label));\n  })), React.createElement(\"div\", {\n    className: classes.inputDiv,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, activeStep === steps.length ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.instructions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"All steps completed\"), React.createElement(Button, {\n    onClick: handleReset,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Reset\")) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.instructions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, getStepContent(activeStep)), React.createElement(\"form\", {\n    onSubmit: handlePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    required: true,\n    label: \"Enter Password\",\n    onChange: handleInputChange,\n    value: passwordInput,\n    name: \"password\",\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    required: true,\n    label: \"Confirm Password\",\n    onChange: handleInputChange,\n    value: confirmInput,\n    name: \"confirm\",\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Submit\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Button, {\n    disabled: activeStep === 0,\n    onClick: handleBack,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Back\"), React.createElement(Button, {\n    disabled: !passwordAuth,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, activeStep === steps.length - 1 ? 'Finish' : 'Next')))));\n}\n\nexport default EditEmail;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/portfolio/client/src/components/Social/EditSettings/EditEmail.js"],"names":["React","Fragment","useState","useContext","makeStyles","Stepper","Step","StepLabel","Button","Typography","InputLabel","Input","FormControl","TextField","AuthContext","useStyles","theme","root","width","position","top","left","button","marginRight","spacing","instructions","marginTop","marginBottom","inputDiv","display","justifyContent","getSteps","getStepContent","step","console","log","EditEmail","activeStep","setActiveStep","passwordAuth","setPasswordAuth","passwordInput","setPasswordInput","confirmInput","setConfirmInput","steps","classes","auth","handleNext","prevActiveStep","handleBack","handleReset","handlePassword","e","preventDefault","email","user","fetch","method","body","JSON","stringify","password","headers","then","res","json","response","handleInputChange","target","name","value","map","label","index","stepProps","labelProps","length"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, Button, Typography, InputLabel, Input, FormControl, TextField } from '@material-ui/core';\nimport AuthContext from '../../../context/AuthContext';\n\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '70%',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        // transform: 'translate(-50%, -50%)'\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    instructions: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    inputDiv: {\n        display: 'flex',\n        justifyContent: 'center',\n    }\n}));\n\nfunction getSteps() {\n    return ['Confirm Password', 'Change Email'];\n}\n\n    function getStepContent(step) {\n        console.log(step)\n        switch (step) {\n            case 0:\n                return 'Authentication';\n            case 1: \n                return 'Enter your new email';\n            default:\n                return 'Unknown step...';\n        }\n    }\n\nfunction EditEmail() {\n    \n    const [activeStep, setActiveStep] = React.useState(0);\n    const [passwordAuth, setPasswordAuth] = React.useState(false);\n    const [passwordInput, setPasswordInput] = React.useState('');\n    const [confirmInput, setConfirmInput] = React.useState('');    \n\n    const steps = getSteps();\n    const classes = useStyles();\n    const auth = useContext(AuthContext);\n\n    function handleNext() {\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n    }\n\n    function handleBack() {\n        setActiveStep(prevActiveStep => prevActiveStep - 1);\n    }\n\n    function handleReset() {\n        setActiveStep(0);\n    }\n\n    function handlePassword(e) {\n        e.preventDefault();\n        const email = auth.user.email\n        console.log(passwordInput, confirmInput);\n        console.log(email)\n        fetch('/api/users/', {\n            method: 'POST',\n            body: JSON.stringify({email: email, password: passwordInput}),\n            headers: {'Content-Type': 'application/json'}\n        }).then(res => res.json())\n        .then((response) => {\n            console.log(response);\n        })\n    }\n\n    function handleInputChange(e) {\n        const { name, value } = e.target\n        console.log(name, value);\n        if(name === 'password'){return setPasswordInput(value)}\n        if(name === 'confirm'){return setConfirmInput(value)}\n    }\n\n    return (\n        <div className={classes.root}>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    return (\n                        <Step key={label} {...stepProps}>\n                            <StepLabel {...labelProps}>{label}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n            <div className={classes.inputDiv}>\n            {activeStep === steps.length ? (\n                    <div>\n                        <Typography className={classes.instructions}>\n                            All steps completed\n                        </Typography>\n                        <Button onClick={handleReset} className={classes.button}>\n                            Reset\n                        </Button>\n                    </div>\n                ): (\n                    <div>\n                        <Typography className={classes.instructions}>\n                            {getStepContent(activeStep)}\n                        </Typography>\n                        <form onSubmit={handlePassword}>\n                            <TextField required label=\"Enter Password\" onChange={handleInputChange} value={passwordInput} name=\"password\" variant=\"outlined\" /> \n                            <TextField required label=\"Confirm Password\" onChange={handleInputChange} value={confirmInput} name=\"confirm\" variant=\"outlined\"  />\n                            <Button type=\"submit\">\n                                Submit\n                            </Button>\n                        </form>\n                    <div>\n                    <Button disabled={activeStep === 0} onClick={handleBack} className={classes.button}>\n                        Back\n                    </Button>\n                    <Button disabled={!passwordAuth} variant=\"contained\" color=\"primary\" onClick={handleNext} className={classes.button}>\n                        {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n                    </Button>\n                    </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default EditEmail;"]},"metadata":{},"sourceType":"module"}