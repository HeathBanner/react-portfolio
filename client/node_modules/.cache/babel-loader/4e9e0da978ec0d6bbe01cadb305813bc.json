{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/portfolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/portfolio/client/src/pages/Chat/messages/MessageInput.js\";\nimport React, { useEffect, useState } from 'react';\n\nfunction MessageInput(props) {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isTyping = _useState4[0],\n      setIsTyping = _useState4[1];\n\n  var lastUpdateTime;\n  var typingInterval;\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    sendMessage();\n    setMessage({\n      message: ''\n    });\n  }\n\n  ;\n\n  function sendMessage() {\n    props.sendMessage(message);\n  }\n\n  ;\n\n  function sendTyping() {\n    lastUpdateTime = Date.now();\n\n    if (!isTyping) {\n      setIsTyping(true);\n      props.sendTyping(true);\n      startCheckingTyping();\n    }\n  }\n\n  function startCheckingTyping() {\n    console.log('Typing');\n    typingInterval = setInterval(function () {\n      if (Date.now() - lastUpdateTime > 300) {\n        setIsTyping(false);\n        stopCheckingTyping();\n      }\n\n      ;\n    });\n  }\n\n  ;\n\n  function stopCheckingTyping() {\n    console.log('Stop Typing');\n\n    if (typingInterval) {\n      clearInterval(typingInterval);\n      props.sendTyping(false);\n    }\n\n    ;\n  }\n\n  ;\n  return React.createElement(\"div\", {\n    className: \"message-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: this.handleSubmit,\n    className: \"message-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"message\",\n    ref: \"messageinput\",\n    type: \"text\",\n    className: \"form-control\",\n    value: message,\n    autoComplete: 'off',\n    placeholder: \"Type something interesting\",\n    onKeyUp: function onKeyUp(e) {\n      e.keyCode !== 13 && _this.sendTyping();\n    },\n    onChange: function onChange(_ref) {\n      var target = _ref.target;\n\n      _this.setState({\n        message: target.value\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: message.length < 1,\n    type: \"submit\",\n    className: \"send\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \" Send \")));\n}\n\nexport default MessageInput;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/portfolio/client/src/pages/Chat/messages/MessageInput.js"],"names":["React","useEffect","useState","MessageInput","props","message","setMessage","isTyping","setIsTyping","lastUpdateTime","typingInterval","handleSubmit","e","preventDefault","sendMessage","sendTyping","Date","now","startCheckingTyping","console","log","setInterval","stopCheckingTyping","clearInterval","keyCode","target","setState","value","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAAA,kBAEKF,QAAQ,CAAC,EAAD,CAFb;AAAA;AAAA,MAElBG,OAFkB;AAAA,MAETC,UAFS;;AAAA,mBAGOJ,QAAQ,CAAC,KAAD,CAHf;AAAA;AAAA,MAGlBK,QAHkB;AAAA,MAGRC,WAHQ;;AAKzB,MAAIC,cAAJ;AACA,MAAIC,cAAJ;;AAEA,WAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,WAAW;AACXR,IAAAA,UAAU,CAAC;AAACD,MAAAA,OAAO,EAAE;AAAV,KAAD,CAAV;AACH;;AAAA;;AAED,WAASS,WAAT,GAAuB;AACnBV,IAAAA,KAAK,CAACU,WAAN,CAAkBT,OAAlB;AACH;;AAAA;;AAED,WAASU,UAAT,GAAsB;AAClBN,IAAAA,cAAc,GAAGO,IAAI,CAACC,GAAL,EAAjB;;AACA,QAAG,CAACV,QAAJ,EAAc;AACVC,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAJ,MAAAA,KAAK,CAACW,UAAN,CAAiB,IAAjB;AACAG,MAAAA,mBAAmB;AACtB;AACJ;;AAED,WAASA,mBAAT,GAA+B;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAV,IAAAA,cAAc,GAAGW,WAAW,CAAC,YAAM;AAC/B,UAAIL,IAAI,CAACC,GAAL,KAAaR,cAAd,GAAgC,GAAnC,EAAwC;AACpCD,QAAAA,WAAW,CAAC,KAAD,CAAX;AACAc,QAAAA,kBAAkB;AACrB;;AAAA;AACJ,KAL2B,CAA5B;AAMH;;AAAA;;AAED,WAASA,kBAAT,GAA8B;AAC1BH,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;;AACA,QAAGV,cAAH,EAAmB;AACfa,MAAAA,aAAa,CAACb,cAAD,CAAb;AACAN,MAAAA,KAAK,CAACW,UAAN,CAAiB,KAAjB;AACH;;AAAA;AACJ;;AAAA;AAED,SACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACJ;AACC,IAAA,QAAQ,EAAG,KAAKJ,YADjB;AAEC,IAAA,SAAS,EAAC,cAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIC;AACC,IAAA,EAAE,EAAG,SADN;AAEC,IAAA,GAAG,EAAI,cAFR;AAGC,IAAA,IAAI,EAAG,MAHR;AAIC,IAAA,SAAS,EAAG,cAJb;AAKC,IAAA,KAAK,EAAKN,OALX;AAMC,IAAA,YAAY,EAAI,KANjB;AAOC,IAAA,WAAW,EAAG,4BAPf;AAQC,IAAA,OAAO,EAAK,iBAAAO,CAAC,EAAI;AAAEA,MAAAA,CAAC,CAACY,OAAF,KAAc,EAAd,IAAoB,KAAI,CAACT,UAAL,EAApB;AAAuC,KAR3D;AASC,IAAA,QAAQ,EACP,wBAAY;AAAA,UAAVU,MAAU,QAAVA,MAAU;;AACX,MAAA,KAAI,CAACC,QAAL,CAAc;AAACrB,QAAAA,OAAO,EAACoB,MAAM,CAACE;AAAhB,OAAd;AACA,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,EAmBC;AACC,IAAA,QAAQ,EAAKtB,OAAO,CAACuB,MAAR,GAAiB,CAD/B;AAEC,IAAA,IAAI,EAAG,QAFR;AAGC,IAAA,SAAS,EAAG,MAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBD,CADI,CADJ;AA+BH;;AAED,eAAezB,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction MessageInput(props) {\n\n    const [message, setMessage] = useState('');\n    const [isTyping, setIsTyping] = useState(false);\n\n    let lastUpdateTime;\n    let typingInterval;\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        sendMessage();\n        setMessage({message: ''});\n    };\n\n    function sendMessage() {\n        props.sendMessage(message);\n    };\n\n    function sendTyping() {\n        lastUpdateTime = Date.now();\n        if(!isTyping) {\n            setIsTyping(true);\n            props.sendTyping(true);\n            startCheckingTyping();\n        }\n    }\n    \n    function startCheckingTyping() {\n        console.log('Typing');\n        typingInterval = setInterval(() => {\n            if((Date.now() - lastUpdateTime) > 300) {\n                setIsTyping(false);\n                stopCheckingTyping();\n            };\n        });\n    };\n\n    function stopCheckingTyping() {\n        console.log('Stop Typing');\n        if(typingInterval) {\n            clearInterval(typingInterval);\n            props.sendTyping(false);\n        };\n    };\n\n    return (\n        <div className=\"message-input\">\n\t\t\t\t<form \n\t\t\t\t\tonSubmit={ this.handleSubmit }\n\t\t\t\t\tclassName=\"message-form\">\n\n\t\t\t\t\t<input \n\t\t\t\t\t\tid = \"message\"\n\t\t\t\t\t\tref = {\"messageinput\"}\n\t\t\t\t\t\ttype = \"text\"\n\t\t\t\t\t\tclassName = \"form-control\"\n\t\t\t\t\t\tvalue = { message }\n\t\t\t\t\t\tautoComplete = {'off'}\n\t\t\t\t\t\tplaceholder = \"Type something interesting\"\n\t\t\t\t\t\tonKeyUp = { e => { e.keyCode !== 13 && this.sendTyping() } }\n\t\t\t\t\t\tonChange = {\n\t\t\t\t\t\t\t({target})=>{\n\t\t\t\t\t\t\t\tthis.setState({message:target.value})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled = { message.length < 1 }\n\t\t\t\t\t\ttype = \"submit\"\n\t\t\t\t\t\tclassName = \"send\"\n\n\t\t\t\t\t> Send </button>\n\t\t\t\t</form>\n\n\t\t\t</div>\n    );\n}\n\nexport default MessageInput;"]},"metadata":{},"sourceType":"module"}