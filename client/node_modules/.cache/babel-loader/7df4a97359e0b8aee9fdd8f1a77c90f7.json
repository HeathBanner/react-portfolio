{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Showcase/MtnDream/Editor/Toolbar.js\";\nimport React, { useContext, useState, Fragment } from 'react';\nimport TextSize from './Tools/TextSize';\nimport Font from './Tools/Font';\nimport Styling from './Tools/Styling';\nimport Justify from './Tools/Justify';\nimport Margin from './Tools/Margin';\nimport { EditorContext } from '../../../../context/EditorContext';\nimport { AppContext } from '../../../../context/AuthContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { green, amber } from '@material-ui/core/colors';\nimport { Grid, Icon, Fab, Button, Snackbar, SnackbarContent, Typography } from '@material-ui/core';\nvar months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar useStyles = makeStyles(function (theme) {\n  var _editorTools, _saveContainer;\n\n  return {\n    container: {\n      padding: 20,\n      background: '#ffffff',\n      position: 'fixed',\n      top: 70,\n      zIndex: 2,\n      boxShadow: '0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)'\n    },\n    editorTools: (_editorTools = {}, _defineProperty(_editorTools, theme.breakpoints.down('md'), {\n      marginTop: 20\n    }), _defineProperty(_editorTools, \"display\", 'flex'), _defineProperty(_editorTools, \"justifyContent\", 'center'), _defineProperty(_editorTools, \"alignItems\", 'center'), _editorTools),\n    input: {\n      width: '80%'\n    },\n    saveContainer: (_saveContainer = {}, _defineProperty(_saveContainer, theme.breakpoints.down('md'), {\n      justifyContent: 'center'\n    }), _defineProperty(_saveContainer, \"display\", 'flex'), _defineProperty(_saveContainer, \"justifyContent\", 'flex-start'), _defineProperty(_saveContainer, \"alignItems\", 'center'), _saveContainer),\n    save: {\n      position: 'relative',\n      backgroundColor: 'rgb(0, 0, 0, 0.2)',\n      transition: 'all 0.4s ease',\n      '&:hover': {\n        transform: 'scale(1.03)',\n        backgroundColor: 'rgb(0, 0, 0, 0.05)'\n      }\n    },\n    error: {\n      backgroundColor: theme.palette.error.dark\n    },\n    warning: {\n      backgroundColor: amber[700]\n    },\n    success: {\n      backgroundColor: green[600]\n    },\n    message: {\n      display: 'flex',\n      alignItems: 'center'\n    }\n  };\n});\n\nvar Toolbar = function Toolbar() {\n  var classes = useStyles();\n  var holder = useContext(EditorContext);\n  var media = useContext(AppContext);\n\n  var _useState = useState({\n    open: false,\n    message: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState({\n    open: false,\n    message: 'Article saved!'\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      success = _useState4[0],\n      setSuccess = _useState4[1];\n\n  var _useState5 = useState({\n    open: false,\n    messsage: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      warning = _useState6[0],\n      setWarning = _useState6[1];\n\n  var closeError = function closeError() {\n    setError({\n      open: false,\n      message: ''\n    });\n  };\n\n  var closeSuccess = function closeSuccess() {\n    setSuccess({\n      open: false,\n      message: 'Article Saved!'\n    });\n  };\n\n  var closeWarning = function closeWarning() {\n    setWarning({\n      open: false,\n      message: ''\n    });\n  };\n\n  var preSubmit = function preSubmit() {\n    switch (true) {\n      case !holder.title.text:\n        setWarning({\n          open: true,\n          message: 'Title is required!'\n        });\n        break;\n\n      case !holder.description.text:\n        setWarning({\n          open: true,\n          message: 'Description is required!'\n        });\n        break;\n\n      case !holder.readLength.text:\n        setWarning({\n          open: true,\n          message: 'Read Length is required!'\n        });\n        break;\n\n      case !holder.jumbotron.src:\n        setWarning({\n          open: true,\n          message: 'Jumbotron is required!'\n        });\n        break;\n\n      case !holder.body[0].text:\n        setWarning({\n          open: true,\n          message: 'A body section is required!'\n        });\n        break;\n\n      case holder.title.isPublished:\n        handleChanges();\n        break;\n\n      case !holder.title.isPublished:\n        handleSubmit();\n        break;\n\n      default:\n        setError({\n          open: true,\n          message: 'Something went wrong :('\n        });\n        break;\n    }\n  };\n\n  var handleSubmit = function handleSubmit() {\n    var now = new Date();\n    var date = {\n      parsedDate: \"\".concat(months[now.getMonth()], \" \").concat(now.getDate()),\n      epoch: now.getTime()\n    };\n    var data = {\n      title: holder.title,\n      description: holder.description,\n      readLength: holder.readLength,\n      jumbotron: holder.jumbotron,\n      body: holder.body,\n      date: date\n    };\n    fetch('/api/blog/newArticle', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      if (result.error) {\n        return setError({\n          open: true,\n          message: result.error\n        });\n      }\n\n      setSuccess({\n        open: true,\n        message: 'Article published!'\n      });\n      holder.setPublished();\n    }).catch(function (error) {\n      setError({\n        open: true,\n        message: 'Something went wrong :('\n      });\n    });\n  };\n\n  var handleChanges = function handleChanges() {\n    var data = {\n      title: holder.title,\n      description: holder.description,\n      readLength: holder.readLength,\n      jumbotron: holder.jumbotron,\n      body: holder.body\n    };\n    fetch('/api/blog/saveChanges', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      if (result.error) {\n        return setError({\n          open: true,\n          message: result.error\n        });\n      }\n\n      setSuccess({\n        open: true,\n        message: 'Article Saved!'\n      });\n    }).catch(function (error) {\n      console.log(JSON.stringify(error));\n      setError({\n        open: true,\n        message: 'Something went wrong :('\n      });\n    });\n  };\n\n  return React.createElement(Grid, {\n    className: classes.container,\n    justify: \"center\",\n    alignItems: \"center\",\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    className: classes.saveContainer,\n    item: true,\n    lg: 1,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, holder.title.isPublished ? React.createElement(Fab, {\n    className: classes.save,\n    onClick: preSubmit,\n    variant: \"extended\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"save\"), React.createElement(Typography, {\n    style: {\n      marginLeft: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"Save\")) : React.createElement(Fab, {\n    className: classes.save,\n    onClick: preSubmit,\n    variant: \"extended\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"save\"), React.createElement(Typography, {\n    style: {\n      marginLeft: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Publish\")), React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: error.open,\n    autoHideDuration: 6000,\n    onClose: closeError,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(SnackbarContent, {\n    className: classes.error,\n    message: React.createElement(Typography, {\n      className: classes.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      style: {\n        marginRight: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"error\"), error.message),\n    action: React.createElement(Button, {\n      onClick: closeError,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"close\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  })), React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: success.open,\n    autoHideDuration: 6000,\n    onClose: closeSuccess,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(SnackbarContent, {\n    className: classes.success,\n    message: React.createElement(Typography, {\n      className: classes.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      style: {\n        marginRight: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"check_circle\"), success.message),\n    action: React.createElement(Button, {\n      onClick: closeSuccess,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"close\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  })), React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: warning.open,\n    autoHideDuration: 6000,\n    onClose: closeWarning,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, React.createElement(SnackbarContent, {\n    className: classes.warning,\n    message: React.createElement(Typography, {\n      className: classes.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      style: {\n        marginRight: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"check_circle\"), warning.message),\n    action: React.createElement(Button, {\n      onClick: closeWarning,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"close\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    className: classes.editorTools,\n    item: true,\n    lg: 11,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, React.createElement(TextSize, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }), React.createElement(Font, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294\n    },\n    __self: this\n  }), React.createElement(Styling, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }), !media.md ? React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(Justify, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }), React.createElement(Margin, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  })) : ''), media.md ? React.createElement(Grid, {\n    className: classes.editorTools,\n    item: true,\n    lg: 5,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, React.createElement(Justify, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318\n    },\n    __self: this\n  }), React.createElement(Margin, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  })) : '');\n};\n\nexport default Toolbar;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Showcase/MtnDream/Editor/Toolbar.js"],"names":["React","useContext","useState","Fragment","TextSize","Font","Styling","Justify","Margin","EditorContext","AppContext","makeStyles","green","amber","Grid","Icon","Fab","Button","Snackbar","SnackbarContent","Typography","months","useStyles","theme","container","padding","background","position","top","zIndex","boxShadow","editorTools","breakpoints","down","marginTop","input","width","saveContainer","justifyContent","save","backgroundColor","transition","transform","error","palette","dark","warning","success","message","display","alignItems","Toolbar","classes","holder","media","open","setError","setSuccess","messsage","setWarning","closeError","closeSuccess","closeWarning","preSubmit","title","text","description","readLength","jumbotron","src","body","isPublished","handleChanges","handleSubmit","now","Date","date","parsedDate","getMonth","getDate","epoch","getTime","data","fetch","method","JSON","stringify","headers","then","res","json","result","setPublished","catch","console","log","marginLeft","vertical","horizontal","marginRight","md"],"mappings":"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","sourcesContent":["import React, { useContext, useState, Fragment } from 'react';\n\nimport TextSize from './Tools/TextSize';\nimport Font from './Tools/Font';\nimport Styling from './Tools/Styling';\nimport Justify from './Tools/Justify';\nimport Margin from './Tools/Margin';\n\nimport { EditorContext } from '../../../../context/EditorContext';\nimport { AppContext } from '../../../../context/AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { green, amber } from '@material-ui/core/colors';\nimport { Grid, Icon, Fab, Button, Snackbar, SnackbarContent, Typography } from '@material-ui/core';\n\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        padding: 20,\n        background: '#ffffff',\n        position: 'fixed',\n        top: 70,\n        zIndex: 2,\n        boxShadow: '0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)',\n    },\n    editorTools: {\n        [theme.breakpoints.down('md')]: {\n            marginTop: 20,\n        },\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    input: {\n        width: '80%'\n    },\n    saveContainer: {\n        [theme.breakpoints.down('md')]: {\n            justifyContent: 'center',\n        },\n        display: 'flex',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    save: {\n        position: 'relative',\n        backgroundColor: 'rgb(0, 0, 0, 0.2)',\n        transition: 'all 0.4s ease',\n        '&:hover': {\n            transform: 'scale(1.03)',\n            backgroundColor: 'rgb(0, 0, 0, 0.05)',\n        },\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n    },\n    warning: {\n        backgroundColor: amber[700],\n    },\n    success: {\n        backgroundColor: green[600],\n    },\n    message: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n}));\n\nconst Toolbar = () => {\n\n    const classes = useStyles();\n    const holder = useContext(EditorContext);\n    const media = useContext(AppContext);\n\n    const [error, setError] = useState({\n        open: false,\n        message: '',\n    });\n    const [success, setSuccess] = useState({\n        open: false,\n        message: 'Article saved!'\n    });\n    const [warning, setWarning] = useState({\n        open: false,\n        messsage: '',\n    });\n\n    const closeError = () => { setError({ open: false, message: '' }); };\n    const closeSuccess = () => { setSuccess({ open: false, message: 'Article Saved!' }); };\n    const closeWarning = () => { setWarning({ open: false, message: '' }); };\n\n    const preSubmit = () => {\n        switch (true) {\n            case !holder.title.text:\n                setWarning({ open: true, message: 'Title is required!' });\n                break;\n            case !holder.description.text:\n                setWarning({ open: true, message: 'Description is required!' });\n                break;\n            case !holder.readLength.text:\n                setWarning({ open: true, message: 'Read Length is required!' });\n                break;\n            case !holder.jumbotron.src:\n                setWarning({ open: true, message: 'Jumbotron is required!' });\n                break;\n            case !holder.body[0].text:\n                setWarning({ open: true, message: 'A body section is required!' });\n                break;\n            case holder.title.isPublished:\n                handleChanges();\n                break;\n            case !holder.title.isPublished:\n                handleSubmit();\n                break;\n            default:\n                setError({ open: true, message: 'Something went wrong :(' });\n                break;\n        }\n    };\n\n    const handleSubmit = () => {\n        const now = new Date();\n        const date = {\n            parsedDate: `${months[now.getMonth()]} ${now.getDate()}`,\n            epoch: now.getTime(),\n        };\n        const data = {\n            title: holder.title,\n            description: holder.description,\n            readLength: holder.readLength,\n            jumbotron: holder.jumbotron,\n            body: holder.body,\n            date,\n        };\n        fetch('/api/blog/newArticle',{\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then(res => res.json())\n            .then((result) => {\n                if (result.error) { return setError({ open: true, message: result.error }); }\n                setSuccess({ open: true, message: 'Article published!' });\n                holder.setPublished();\n            })\n            .catch((error) => {\n                setError({ open: true, message: 'Something went wrong :(' });\n            });\n    };\n\n    const handleChanges = () => {\n        const data = {\n            title: holder.title,\n            description: holder.description,\n            readLength: holder.readLength,\n            jumbotron: holder.jumbotron,\n            body: holder.body,\n        };\n        fetch('/api/blog/saveChanges', {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then(res => res.json())\n            .then((result) => {\n                if (result.error) { return setError({ open: true, message: result.error }); }\n                setSuccess({ open: true, message: 'Article Saved!' });\n            })\n            .catch((error) => {\n                console.log(JSON.stringify(error));\n                setError({ open: true, message: 'Something went wrong :(' });\n            });\n    };\n\n    return (\n        <Grid className={classes.container} justify=\"center\" alignItems=\"center\" container>\n\n            <Grid className={classes.saveContainer} item lg={1} md={12}>\n\n                {\n                    holder.title.isPublished\n                        ?\n                    <Fab className={classes.save} onClick={preSubmit} variant=\"extended\">\n                        <Icon>save</Icon>\n                        <Typography style={{ marginLeft: 10 }}>\n                            Save\n                        </Typography>\n                    </Fab>\n                        :\n                    <Fab className={classes.save} onClick={preSubmit} variant=\"extended\">\n                        <Icon>save</Icon>\n                        <Typography style={{ marginLeft: 10 }}>\n                            Publish\n                        </Typography>\n                    </Fab>\n                }\n\n                <Snackbar\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'center',\n                    }}\n                    open={error.open}\n                    autoHideDuration={6000}\n                    onClose={closeError}\n                >\n                    <SnackbarContent\n                        className={classes.error}\n                        message={\n                            <Typography className={classes.message}>\n\n                                <Icon style={{ marginRight: 10 }}>\n                                    error\n                                </Icon>\n\n                                {error.message}\n\n                            </Typography>\n                        }\n                        action={\n                            <Button onClick={closeError}>\n                                <Icon>close</Icon>\n                            </Button>\n                        }\n                    />\n                </Snackbar>\n\n                <Snackbar\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'center',\n                    }}\n                    open={success.open}\n                    autoHideDuration={6000}\n                    onClose={closeSuccess}\n                >\n                    <SnackbarContent\n                        className={classes.success}\n                        message={\n                            <Typography className={classes.message}>\n\n                                <Icon style={{ marginRight: 10 }}>\n                                    check_circle\n                                </Icon>\n\n                                {success.message}\n                                \n                            </Typography>\n                        }\n                        action={\n                            <Button onClick={closeSuccess}>\n                                <Icon>close</Icon>\n                            </Button>\n                        }\n                    />\n                </Snackbar>\n\n                <Snackbar\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'center',\n                    }}\n                    open={warning.open}\n                    autoHideDuration={6000}\n                    onClose={closeWarning}\n                >\n                    <SnackbarContent\n                        className={classes.warning}\n                        message={\n                            <Typography className={classes.message}>\n\n                                <Icon style={{ marginRight: 10 }}>\n                                    check_circle\n                                </Icon>\n\n                                {warning.message}\n                                \n                            </Typography>\n                        }\n                        action={\n                            <Button onClick={closeWarning}>\n                                <Icon>close</Icon>\n                            </Button>\n                        }\n                    />\n                </Snackbar>\n\n            </Grid>\n            <Grid className={classes.editorTools} item lg={11} md={12}>\n\n                <TextSize />\n                \n                <Font />\n\n                <Styling />\n\n                {\n                    !media.md\n                        ?\n                        <Fragment>\n                            <Justify />\n        \n                            <Margin />\n                        </Fragment>\n                        :\n                    ''\n                }\n\n\n            </Grid>\n\n            {\n                media.md\n                    ?\n                <Grid className={classes.editorTools} item lg={5} md={12}>\n                            \n                    <Justify />\n\n                    <Margin />\n                    \n                </Grid>\n                    :\n                ''\n            }\n\n        </Grid>\n    );\n};\n\nexport default Toolbar;\n"]},"metadata":{},"sourceType":"module"}