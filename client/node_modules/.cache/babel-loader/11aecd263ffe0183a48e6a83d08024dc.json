{"ast":null,"code":"import _slicedToArray from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/God/Desktop/github/Port/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Showcase/Weather/Weather.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport { AppContext } from '../../../context/AuthContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\nimport Search from './Search';\nimport WeatherModule from './WeatherModule';\nimport Description from './Description';\nvar useStyles = makeStyles(function (theme) {\n  var _topDiv, _headerContainer, _moduleContainer, _concept;\n\n  return {\n    weatherSection: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      alignContent: 'flex-start',\n      flexWrap: 'wrap'\n    },\n    topDiv: (_topDiv = {}, _defineProperty(_topDiv, theme.breakpoints.down('sm'), {\n      borderWidth: '90px 100vw 0 0'\n    }), _defineProperty(_topDiv, theme.breakpoints.down('xs'), {\n      borderWidth: '40px 100vw 0 0'\n    }), _defineProperty(_topDiv, \"width\", 0), _defineProperty(_topDiv, \"height\", 0), _defineProperty(_topDiv, \"borderStyle\", 'solid'), _defineProperty(_topDiv, \"borderWidth\", '0 100vw 130px 0'), _defineProperty(_topDiv, \"borderColor\", 'transparent white transparent transparent'), _defineProperty(_topDiv, \"backgroundColor\", '#0000a2'), _defineProperty(_topDiv, \"transform\", 'scale(1.0001)'), _topDiv),\n    headerContainer: (_headerContainer = {}, _defineProperty(_headerContainer, theme.breakpoints.down('md'), {\n      alignItems: 'flex-end'\n    }), _defineProperty(_headerContainer, theme.breakpoints.down('sm'), {\n      height: 300\n    }), _defineProperty(_headerContainer, theme.breakpoints.down('xs'), {\n      alignItems: 'center'\n    }), _defineProperty(_headerContainer, \"height\", 420), _defineProperty(_headerContainer, \"display\", 'flex'), _defineProperty(_headerContainer, \"justifyContent\", 'center'), _defineProperty(_headerContainer, \"alignItems\", 'flex-start'), _headerContainer),\n    moduleContainer: (_moduleContainer = {}, _defineProperty(_moduleContainer, theme.breakpoints.down('md'), {\n      paddingTop: 100\n    }), _defineProperty(_moduleContainer, \"display\", 'flex'), _defineProperty(_moduleContainer, \"justifyContent\", 'center'), _defineProperty(_moduleContainer, \"alignItems\", 'flex-start'), _defineProperty(_moduleContainer, \"flexWrap\", 'wrap'), _moduleContainer),\n    concept: (_concept = {}, _defineProperty(_concept, theme.breakpoints.down('md'), {\n      color: 'white'\n    }), _defineProperty(_concept, theme.breakpoints.down('sm'), {\n      marginTop: 0,\n      marginLeft: 0\n    }), _defineProperty(_concept, \"marginTop\", 30), _defineProperty(_concept, \"marginLeft\", 80), _concept)\n  };\n});\n\nvar Weather = function Weather(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      weather = _useState2[0],\n      setWeather = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      parsedForecast = _useState4[0],\n      setParsedForecast = _useState4[1];\n\n  var classes = useStyles();\n  var holder = useContext(AppContext);\n\n  var getVariant = function getVariant() {\n    switch (true) {\n      case holder.xs:\n        return 'h4';\n\n      case holder.sm:\n        return 'h3';\n\n      default:\n        return 'h1';\n    }\n  };\n\n  useEffect(function () {\n    fetch('https://api.openweathermap.org/data/2.5/forecast?lat=35.227085&lon=-80.843124&units=imperial&APPID=4216d1350fe31af9bf5100bb34fa72e2').then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setWeather(result);\n    });\n  }, []);\n  useEffect(function () {\n    if (!weather) {\n      return;\n    }\n\n    var dt = '';\n    var filteredResult = weather.list.filter(function (object) {\n      if (dt === '') {\n        dt = object.dt_txt.split(' ');\n        dt = dt[0];\n        return true;\n      }\n\n      var sample = object.dt_txt.split(' ');\n\n      if (dt !== sample[0]) {\n        dt = sample[0];\n        return true;\n      }\n    });\n    setParsedForecast(filteredResult);\n    props.grabWeather(filteredResult[0]);\n  }, [weather]);\n\n  function updateModule(coords) {\n    setParsedForecast('');\n    fetch(\"https://api.openweathermap.org/data/2.5/forecast?lat=\".concat(coords[0].coord.lat, \"&lon=\").concat(coords[0].coord.lon, \"&units=imperial&APPID=4216d1350fe31af9bf5100bb34fa72e2\")).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setWeather(result);\n    });\n  }\n\n  ;\n  return React.createElement(Grid, {\n    container: true,\n    className: classes.weatherSection,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    className: classes.topDiv,\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    className: classes.headerContainer,\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.concept,\n    color: \"primary\",\n    variant: getVariant(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Weather Concept\"), React.createElement(Description, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    className: classes.moduleContainer,\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, parsedForecast ? React.createElement(WeatherModule, {\n    forecast: parsedForecast,\n    city: weather.city.name,\n    country: weather.city.country,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }) : '', React.createElement(Search, {\n    updateModule: updateModule,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })));\n};\n\nexport default Weather;","map":{"version":3,"sources":["/Users/God/Desktop/github/Port/react-portfolio/client/src/components/Showcase/Weather/Weather.js"],"names":["React","useEffect","useState","useContext","AppContext","makeStyles","Grid","Typography","Search","WeatherModule","Description","useStyles","theme","weatherSection","display","justifyContent","alignItems","alignContent","flexWrap","topDiv","breakpoints","down","borderWidth","headerContainer","height","moduleContainer","paddingTop","concept","color","marginTop","marginLeft","Weather","props","weather","setWeather","parsedForecast","setParsedForecast","classes","holder","getVariant","xs","sm","fetch","then","res","json","result","dt","filteredResult","list","filter","object","dt_txt","split","sample","grabWeather","updateModule","coords","coord","lat","lon","city","name","country"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\n\nimport { AppContext } from '../../../context/AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\n\nimport Search from './Search';\nimport WeatherModule from './WeatherModule';\nimport Description from './Description';\n\nconst useStyles = makeStyles(theme => ({\n    weatherSection: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        alignContent: 'flex-start',\n        flexWrap: 'wrap',\n    },\n    topDiv: {\n        [theme.breakpoints.down('sm')]: {\n            borderWidth: '90px 100vw 0 0',\n        },\n        [theme.breakpoints.down('xs')]: {\n            borderWidth: '40px 100vw 0 0', \n        },\n        width: 0,\n        height: 0,\n        borderStyle: 'solid',\n        borderWidth: '0 100vw 130px 0',\n        borderColor: 'transparent white transparent transparent',\n        backgroundColor: '#0000a2',\n        transform: 'scale(1.0001)',\n    },\n    headerContainer: {\n        [theme.breakpoints.down('md')]: {\n            alignItems: 'flex-end',\n        },\n        [theme.breakpoints.down('sm')]: {\n            height: 300,\n        },\n        [theme.breakpoints.down('xs')]: {\n            alignItems: 'center',\n        },\n        height: 420,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n    },\n    moduleContainer: {\n        [theme.breakpoints.down('md')]: {\n            paddingTop: 100,\n        },\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        flexWrap: 'wrap',\n    },\n    concept: {\n        [theme.breakpoints.down('md')]: {\n            color: 'white',\n        },\n        [theme.breakpoints.down('sm')]: {\n            marginTop: 0,\n            marginLeft: 0,\n        },\n        marginTop: 30,\n        marginLeft: 80,\n    },\n}));\n  \nconst Weather = (props) => {\n\n    const [weather, setWeather] = useState('');\n    const [parsedForecast, setParsedForecast] = useState('');\n\n    const classes = useStyles();\n    const holder = useContext(AppContext);\n\n    const getVariant = () => {\n        switch (true) {\n            case holder.xs:\n                return 'h4';\n            case holder.sm:\n                return 'h3';\n            default:\n                return 'h1';\n        }\n    };\n\n    useEffect(() => {\n        fetch('https://api.openweathermap.org/data/2.5/forecast?lat=35.227085&lon=-80.843124&units=imperial&APPID=4216d1350fe31af9bf5100bb34fa72e2')\n            .then(res => res.json())\n            .then((result) => { \n                setWeather(result);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (!weather) { return }\n        let dt = '';\n        const filteredResult = weather.list.filter((object) => {\n            if(dt === '') {\n                dt = object.dt_txt.split(' ');\n                dt = dt[0];\n                return true;\n            }\n            const sample = object.dt_txt.split(' ')\n            if (dt !== sample[0]) {\n                dt = sample[0];\n                return true;\n            }\n        })\n        setParsedForecast(filteredResult);\n        props.grabWeather(filteredResult[0]);\n    }, [weather]);\n\n    function updateModule(coords) {\n        setParsedForecast('');\n        fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${coords[0].coord.lat}&lon=${coords[0].coord.lon}&units=imperial&APPID=4216d1350fe31af9bf5100bb34fa72e2`)\n            .then(res => res.json())\n            .then((result) => {\n                setWeather(result); \n            });\n    };\n\n    return (\n        <Grid container className={classes.weatherSection}>\n\n            <Grid className={classes.topDiv} item xs={12}></Grid>\n\n            <Grid className={classes.headerContainer} item xs={12}>\n\n                <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n\n                    <Typography className={classes.concept} color=\"primary\" variant={getVariant()}>\n                        Weather Concept\n                    </Typography>\n\n                    <Description />\n\n                </div>\n\n\n            </Grid>\n                    \n            <Grid className={classes.moduleContainer} item xs={12}>\n\n                {\n                    parsedForecast ?\n\n                    <WeatherModule \n                        forecast={parsedForecast}\n                        city={weather.city.name}\n                        country={weather.city.country}\n                    />\n                        : \n                    ''\n                }\n\n                <Search updateModule={updateModule} />\n            \n            </Grid>\n\n        </Grid>\n    );\n};\n \nexport default Weather;\n"]},"metadata":{},"sourceType":"module"}